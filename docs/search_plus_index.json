{"./":{"url":"./","title":"概述","keywords":"","body":"超赢开放平台API 仅供内部使用 版本：1.0.8 最后维护：尹自强，yinziqiang@chaoying.com.cn 更新日期：2017-06-14 版本说明 1.0.8 2017-06-14 添加获取菜单功能列表接口 1.0.7 2017-06-12 添加获取公众号AccessToken接口 修改接口规则 1.0.6 2017-06-02 添加解绑公众号接口 1.0.5 2017-05-27 移除登出接口 添加获取公众号自定义菜单接口 1.0.4 2017-05-26 获取用户信息接口响应结果修改 添加获取公众号列表接口 1.0.3 2017-05-25 接口规则修改，部份接口提交方式使用GET 添加单点登录入口 移除登录接口 1.0.2 2017-05-19 添加获取预授权地址接口 1.0.1 2017-05-17 取消签名验证 1.0.0 2017-05-17 添加多个接口 © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"RULES.html":{"url":"RULES.html","title":"接口规则","keywords":"","body":"协议规则 规则 描述 传输方式 为保证交易安全性，采用HTTPS传输（开发时可使用HTTP） 数据格式 提交和返回数据都为JSON格式（application/json） 字符编码 统一采用UTF-8字符编码 内容类型 统一采用x-www-form-urlencoded编码格式 签名算法 MD5，后续会兼容SHA1、SHA256、HMAC等 签名要求 部份接口需要校验签名 签名验证 签名生成的通用步骤如下： 第一步，设所有传输的数据为集合M，将集合M内非空参数值的参数按照参数名ASCII码从小到大排序（字典序），使用URL键值对的格式（即key1=value1&key2=value2…）拼接成字符串stringA。 特别注意以下重要规则： 参数名ASCII码从小到大排序（字典序）； 如果参数的值为空不参与签名； 参数名区分大小写； 验证调用返回或主动通知签名时，传送的sign参数不参与签名，将生成的签名与该sign值作校验。 接口可能增加字段，验证签名时必须支持增加的扩展字段 第二步，在stringA最后拼接上key得到stringSignTemp字符串（即stringA&key={KEY}），并对stringSignTemp进行MD5运算，再将得到的字符串所有字符转换为大写，得到sign值signValue。 请求格式 请求示例 Javascript var settings = { \"async\": true, \"crossDomain\": true, \"url\": \"http://{BaseURL}/OpenPlatform/GetUserInfo\", \"method\": \"POST\", \"headers\": { \"content-type\": \"application/x-www-form-urlencoded\", \"cache-control\": \"no-cache\", \"X-Requested-With\":\"XMLHttpRequest\", }, \"data\": { \"token\": \"00000000-0000-0000-0000-000000000000\" } } $.ajax(settings).done(function (response) { console.log(response); }); Python import requests url = \"http://{BaseURL}/OpenPlatform/GetUserInfo\" payload = \"token=00000000-0000-0000-0000-000000000000\" headers = { 'content-type': \"application/x-www-form-urlencoded\", 'cache-control': \"no-cache\", 'X-Requested-With': \"XMLHttpRequest\", } response = requests.request(\"POST\", url, data=payload, headers=headers) print(response.text) 响应格式 字段名 必填 类型 说明 code 是 String 状态码，10000-成功，10001-错误，10002-令牌无效 msg 是 String 返回信息，若调用失败则为错误原因 data 否 String 当调用成功且接口有具体数据响应，则有返回。 成功示例 { \"code\": \"10000\", \"msg\": \"Success\", \"data\": \"{\\\"Name\\\":\\\"姓名\\\",\\\"CompanyName\\\":\\\"公司名称\\\",\\\"ID\\\":3308444987384064,\\\"Phone\\\":\\\"13800138000\\\"}\" } 失败示例 { \"code\": \"10001\", \"msg\": \"用户未登录\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/common.html":{"url":"api/common.html","title":"Common - 公共接口","keywords":"","body":"公共接口 © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/common/sso_login.html":{"url":"api/common/sso_login.html","title":"SSO_Login - 单点登录入口","keywords":"","body":"SSO_Login - 单点登录入口 应用场景 该接口提供用户验证，从各业务系统进入开放平台需要带上参数；不带参数时跳转用户系统进行统一登录。 登录成功后将重定向至开放平台。 接口链接 http://{BaseURL}/OpenPlatform/SSO_Login 提交方式 GET 请求参数 参数 必填 示例值 说明 token 否 00000000-0000-0000-0000-000000000000 Token令牌 请求参数示例 token=00000000-0000-0000-0000-000000000000 响应结果（Cookie） 字段名 必填 类型 说明 Cysoft_OpenPlatform_Token 是 String Token 响应结果示例 Cysoft_OpenPlatform_Token=00000000-0000-0000-0000-000000000000 © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/common/getuserinfo.html":{"url":"api/common/getuserinfo.html","title":"GetUserInfo - 获取用户信息","keywords":"","body":"GetUserInfo - 获取用户信息 应用场景 该接口提供用户信息获取功能。 接口链接 http://{BaseURL}/OpenPlatform/GetUserInfo 提交方式 POST 请求参数 参数 必填 示例值 说明 token 是 00000000-0000-0000-0000-000000000000 Token令牌 请求参数示例 token=00000000-0000-0000-0000-000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 data 否 Object 响应数据 以下字段在code为10000的时候在data字段中返回 字段名 必填 类型 说明 ID 是 Long 用户Id Name 是 String 姓名 CompanyName 是 String 公司名称 Phone 是 String 手机号码 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\", \"data\": \"{\\\"Name\\\":\\\"YZQ\\\",\\\"CompanyName\\\":\\\"YZQ-公司名称\\\",\\\"ID\\\":3308444987384064,\\\"Phone\\\":\\\"17076616006\\\"}\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/common/menulist.html":{"url":"api/common/menulist.html","title":"MenuList - 获取系统菜单","keywords":"","body":"MenuList - 获取系统菜单 应用场景 该接口提供左侧系统菜单获取功能。 接口链接 http://{BaseURL}/OpenPlatform/MenuList 提交方式 POST 请求参数 参数 必填 示例值 说明 token 是 00000000-0000-0000-0000-000000000000 Token令牌 请求参数示例 token=00000000-0000-0000-0000-000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 data 否 Array 响应数据 以下字段在code为10000的时候在data字段中返回 字段名 必填 类型 说明 menu 是 String 菜单名称 ico 否 String 菜单图标CSS类名 link 否 String 地址 sub 否 Array 子菜单，结构相同 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\", \"data\": \"[{\\\"menu\\\":\\\"一级菜单\\\",\\\"link\\\":\\\"mplist\\\"},{\\\"menu\\\":\\\"一级菜单2\\\",\\\"ico\\\":\\\"ico_mp\\\",\\\"sub\\\":[{\\\"menu\\\":\\\"二级菜单2-1\\\",\\\"link\\\":\\\"sub_mplist-1\\\"},{\\\"menu\\\":\\\"二级菜单2-2\\\",\\\"link\\\":\\\"sub_mplist-2\\\"}]}]\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/common/functionlist.html":{"url":"api/common/functionlist.html","title":"FunctionList - 获取菜单功能列表","keywords":"","body":"FunctionList - 获取菜单功能列表 应用场景 该接口提供公众号自定义菜单功能列表获取功能。 接口链接 http://{BaseURL}/OpenPlatform/FunctionList 提交方式 POST 请求参数 参数 必填 示例值 说明 token 是 00000000-0000-0000-0000-000000000000 Token令牌 appid 是 wx4da448cd29927cb7 公众号AppId 请求参数示例 appid=wx4da448cd29927cb7&token=00000000-0000-0000-0000-000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 data 否 Array 响应数据 以下字段在code为10000的时候在data字段中返回 字段名 必填 类型 说明 code 是 String 功能编码 name 是 String 功能名称 url 是 String 地址 parameters 否 Array 功能参数 以下字段在parameters有数据时，在parameters参数中返回 字段名 必填 类型 说明 param_code 是 String 参数编码 param_name 是 String 参数名称 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\", \"data\": \"[{\\\"code\\\":\\\"wxorder\\\",\\\"name\\\":\\\"进货下单\\\",\\\"url\\\":\\\"http://www.dhy.hk/MobileOrderGoods/List?id_user={id_user}&id_xtx={id_xtx}\\\",\\\"parameters\\\":[{\\\"param_code\\\":\\\"id_user\\\",\\\"param_name\\\":\\\"用户编号\\\"},{\\\"param_code\\\":\\\"id_xtx\\\",\\\"param_name\\\":\\\"小推侠编号\\\"}]},{\\\"code\\\":\\\"wxshop\\\",\\\"name\\\":\\\"微商城\\\",\\\"url\\\":\\\"http://www.dhy.hk/MobileOrderGoods/List?appid=wx4da448cd29927cb7&id_user={id_user}\\\",\\\"parameters\\\":[{\\\"param_code\\\":\\\"id_user\\\",\\\"param_name\\\":\\\"用户编号\\\"}]}]\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/wechat.html":{"url":"api/wechat.html","title":"Wechat - 微信接口","keywords":"","body":"微信接口 © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/wechat/getpreauthlink.html":{"url":"api/wechat/getpreauthlink.html","title":"GetPreAuthLink - 获取预授权地址","keywords":"","body":"GetPreAuthLink - 获取预授权地址 应用场景 该接口提供用户对公众号授权地址获取功能。 接口链接 http://{BaseURL}/OpenPlatform/GetPreAuthLink 提交方式 POST 请求参数 参数 必填 示例值 说明 token 是 00000000-0000-0000-0000-000000000000 Token令牌 redirect_page 是 /mplist 授权成功回调页面 请求参数示例 redirect_page=/mplist&token=00000000-0000-0000-0000-000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 data 否 Object 响应数据 以下字段在code为10000的时候在data字段中返回 字段名 必填 类型 说明 link 是 String 授权地址 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\", \"data\": \"{\\\"link\\\":\\\"https://mp.weixin.qq.com/cgi-bin/componentloginpage?component_appid=wx733b4b22562e3596&pre_auth_code=preauthcode%40%40%40NaOhkuLMmzmZwwQ0lMkzlABCKPKBd1TTAnbNZ1TIcat2zSat5_D9shcka2pXy1tV&redirect_uri=http%3A%2F%2Fyinziqiang.oicp.net%2FOpenPlatform%2FOAuthCallback%3Fredirect_page%3D%252fmplist\\\"}\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/wechat/mplist.html":{"url":"api/wechat/mplist.html","title":"MpList - 获取公众号列表","keywords":"","body":"MpList - 获取公众号列表 应用场景 该接口提供当前用户已授权公众号获取功能。 接口链接 http://{BaseURL}/OpenPlatform/MpList 提交方式 POST 请求参数 参数 必填 示例值 说明 token 是 00000000-0000-0000-0000-000000000000 Token令牌 page_index 是 1 当前页，取值范围1~N page_size 是 10 每页条数，默认值：10，取值范围1~100 sort 否 desc 排序规则，按添加时间排序，默认desc降序，取值desc、asc 请求参数示例 page_index=1&page_size=10&token=00000000-0000-0000-0000-000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 data 否 Object 响应数据 以下字段在code为10000时，在data字段中返回 字段名 必填 类型 说明 records 是 Int 总记录数，若没有数据则为0 pages 是 Int 总页数，若没有数据则为0 rows 是 Array 列表记录，若没有数据则为空数组 以下字段在rows有数据时，在rows字段中返回 字段名 必填 类型 说明 appid 是 String 公众号AppId nick_name 是 Int 公众号昵称 user_name 是 String 公众号原始ID，如：gh_b86f76c4642e alias 是 String 公众号所设置的微信号，可能为空 head_img 是 String 公众号头像图片URL qrcode_url 是 String 公众号二维码图片URL service_type_info 是 Int 公众号类型，0代表订阅号，1代表由历史老帐号升级后的订阅号，2代表服务号 verify_type_info 是 Int 授权方认证类型，-1代表未认证，0代表微信认证，1代表新浪微博认证，2代表腾讯微博认证，3代表已资质认证通过但还未通过名称认证，4代表已资质认证通过、还未通过名称认证，但通过了新浪微博认证，5代表已资质认证通过、还未通过名称认证，但通过了腾讯微博认证 rq_create 是 Datetime 授权时间，格式yyyy-MM-dd HH:mm:ss 响应结果示例 { \"records\": 1, \"pages\": 1, \"rows\": [ { \"appid\": \"wx4da448cd29927cb7\", \"nick_name\": \"广州超赢\", \"user_name\": \"gh_b76f77c4672e\", \"alias\": \"chaoyingsoft\", \"head_img\": \"http://wx.qlogo.cn/mmopen/CSFFlccWvq50C0FD5TgAp7JJe5nqpibbZ6X75EiaHgU95zJaHWYTiaEBHsHzTNRIEE3bUvNGRQ5gVAsZpCY6hZchQnE7Zwe9Etg/0\", \"qrcode_url\": \"http://mmbiz.qpic.cn/mmbiz_jpg/OdJTgL8MssMvQ6n5iaNRFrrhESre1d2hFTBp2bsM6v4vM9KiacpoXa5OeaK7iaK6ESvdhVRhO7l2tvbiapfuIFxlVQ/0\", \"service_type_info\": 2, \"verify_type_info\": 0, \"rq_create\": \"2017-05-26T15:26:33.207\" } ] } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/wechat/getmpmenu.html":{"url":"api/wechat/getmpmenu.html","title":"GetMpMenu - 获取公众号自定菜单","keywords":"","body":"GetMpMenu - 获取公众号自定菜单 应用场景 该接口提供当前用户已授权公众号自定义菜单获取功能。 接口链接 http://{BaseURL}/OpenPlatform/GetMpMenu 提交方式 POST 请求参数 参数 必填 示例值 说明 token 是 00000000-0000-0000-0000-000000000000 Token令牌 appid 是 wx4da448cd29927cb7 公众号AppId 请求参数示例 appid=wx4da448cd29927cb7&token=00000000-0000-0000-0000-000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 data 否 Object 响应数据 以下字段在code为10000的时候在data字段中返回 字段名 必填 类型 说明 button 是 Array 一级菜单数组，个数应为1~3个 以下字段在button有数据时，在button字段中返回 字段名 必填 类型 说明 url 是 String 网页链接，用户点击菜单可打开链接，不超过1024字节。type为miniprogram时，不支持小程序的老版本客户端将打开本url type 否 String 菜单的响应动作类型，view表示网页类型，click表示点击类型，miniprogram表示小程序类型；当sub_button不为空时，该字段不返回 name 是 String 菜单标题，不超过16个字节，子菜单不超过60个字节 sub_button 否 Array 二级菜单数组，个数应为1~5个 以下字段在sub_button有数据时，在sub_button参数中返回 字段名 必填 类型 说明 url 是 String 网页链接，用户点击菜单可打开链接，不超过1024字节。type为miniprogram时，不支持小程序的老版本客户端将打开本url type 是 String 菜单的响应动作类型，view表示网页类型，click表示点击类型，miniprogram表示小程序类型 name 是 String 菜单标题，不超过16个字节，子菜单不超过60个字节 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\", \"data\": \"{\\\"button\\\":[{\\\"url\\\":\\\"https://www.baidu.com/\\\",\\\"type\\\":\\\"view\\\",\\\"name\\\":\\\"一级菜单 1\\\"},{\\\"sub_button\\\":[{\\\"url\\\":\\\"https://www.baidu.com/\\\",\\\"type\\\":\\\"view\\\",\\\"name\\\":\\\"二级菜单 2-1\\\"},{\\\"url\\\":\\\"https://www.baidu.com/\\\",\\\"type\\\":\\\"view\\\",\\\"name\\\":\\\"二级菜单 2-2\\\"},{\\\"url\\\":\\\"https://www.baidu.com/\\\",\\\"type\\\":\\\"view\\\",\\\"name\\\":\\\"二级菜单 2-3\\\"}],\\\"name\\\":\\\"一级菜单 2\\\"},{\\\"sub_button\\\":[{\\\"url\\\":\\\"https://www.baidu.com/\\\",\\\"type\\\":\\\"view\\\",\\\"name\\\":\\\"二级菜单 3-1\\\"},{\\\"url\\\":\\\"https://www.baidu.com/\\\",\\\"type\\\":\\\"view\\\",\\\"name\\\":\\\"二级菜单 3-2\\\"},{\\\"url\\\":\\\"https://www.baidu.com/\\\",\\\"type\\\":\\\"view\\\",\\\"name\\\":\\\"二级菜单 3-3\\\"},{\\\"url\\\":\\\"https://www.baidu.com/\\\",\\\"type\\\":\\\"view\\\",\\\"name\\\":\\\"二级菜单 3-4\\\"}],\\\"name\\\":\\\"一级菜单 3\\\"}]}\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/wechat/editmpmenu.html":{"url":"api/wechat/editmpmenu.html","title":"EditMpMenu - 修改公众号自定义菜单","keywords":"","body":"EditMpMenu - 修改公众号自定义菜单 应用场景 该接口提供当前用户已授权公众号自定义菜单修改功能。 接口链接 http://{BaseURL}/OpenPlatform/EditMpMenu 提交方式 POST 请求参数 参数 必填 示例值 说明 token 是 00000000-0000-0000-0000-000000000000 Token令牌 appid 是 wx4da448cd29927cb7 公众号AppId menu 是 {\"button\":[{\"url\":\"https://www.baidu.com/\",\"type\":\"view\",\"name\":\"一级菜单 1\"},{\"sub_button\":[{\"url\":\"https://www.baidu.com/\",\"type\":\"view\",\"name\":\"二级菜单 2-1\"}],\"name\":\"一级菜单 2\"}]} 自定义菜单json字符串 请求参数示例 appid=wx4da448cd29927cb7&menu={\"button\":[{\"url\":\"https://www.baidu.com/\",\"type\":\"view\",\"name\":\"一级菜单 1\"},{\"sub_button\":[{\"url\":\"https://www.baidu.com/\",\"type\":\"view\",\"name\":\"二级菜单 2-1\"}],\"name\":\"一级菜单 2\"}]}&token=00000000-0000-0000-0000-000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/wechat/unbindmp.html":{"url":"api/wechat/unbindmp.html","title":"UnbindMP - 解绑公众号","keywords":"","body":"UnbindMP - 解绑公众号 应用场景 该接口提供当前用户已授权公众号解绑功能。 接口链接 http://{BaseURL}/OpenPlatform/UnbindMp 提交方式 POST 请求参数 参数 必填 示例值 说明 token 是 00000000-0000-0000-0000-000000000000 Token令牌 appid 是 wx4da448cd29927cb7 公众号AppId 请求参数示例 appid=wx4da448cd29927cb7&token=00000000-0000-0000-0000-000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/wechat/getaccesstoken.html":{"url":"api/wechat/getaccesstoken.html","title":"GetAccessToken - 获取公众号AccessToken","keywords":"","body":"GetAccessToken - 获取公众号AccessToken 应用场景 该接口提供当前用户已授权公众号AccessToken获取功能。 接口链接 http://{BaseURL}/OpenPlatform/GetAccessToken 提交方式 POST 请求参数 参数 必填 示例值 说明 appid 是 wx4da448cd29927cb7 公众号AppId sign 是 00000000000000000000000000000000 签名 请求参数示例 appid=wx4da448cd29927cb7&sign=00000000000000000000000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 data 否 Object 响应数据 以下字段在code为10000的时候在data字段中返回 字段名 必填 类型 说明 authorizer_access_token 是 String 授权方AccessToken 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\", \"data\": \"{\\\"authorizer_access_token\\\":\\\"UFDZ496N8091TmHlSi37ugERpEL5xYGo-229WYydZjGDHUL6xnfkHoRwdQhIAZL_lutCCRksK3fY33lKRvLBM_oGFMDpbPCRP5P_gR_z_QAY-vZiK6YbRORYRuK8z9_JXRVaAEDTNR\\\"}\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/wechat/getcomponentinfo.html":{"url":"api/wechat/getcomponentinfo.html","title":"GetComponentInfo - 获取开放平台授权信息","keywords":"","body":"GetComponentInfo - 获取开放平台授权信息 应用场景 该接口提供当前用户已授权公众号开放平台授权信息获取功能。 接口链接 http://{BaseURL}/OpenPlatform/GetComponentInfo 提交方式 POST 请求参数 参数 必填 示例值 说明 appid 是 wx4da448cd29927cb7 公众号AppId sign 是 00000000000000000000000000000000 签名 请求参数示例 appid=wx4da448cd29927cb7&sign=00000000000000000000000000000000 响应结果 字段名 必填 类型 说明 code 是 String 状态码 msg 是 String 返回信息 data 否 Object 响应数据 以下字段在code为10000的时候在data字段中返回 字段名 必填 类型 说明 component_appid 是 String 开放平台AppId component_access_token 是 String 开放平台AccessToken 响应结果示例 { \"code\": \"10000\", \"msg\": \"Success\", \"data\": \"{\\\"component_appid\\\":\\\"wx733b4b22562e3596\\\",\\\"component_access_token\\\":\\\"h4AON8jEElwMJ0PeOBC3HjMAvlGwyJrY3CjcaBVOeOGIBoB7Zro6G3PrkSYQmcdUU_IWBDh0K1yhb3yMV7DEWhUlLacdhVWd-BVJgynS4Djql3OuZva7DdOYj75f5-3WOBXgAEAERM\\\"}\" } © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "},"api/statuscode.html":{"url":"api/statuscode.html","title":"StatusCode - 状态码","keywords":"","body":" 状态码 描述 10000 调用成功 10001 错误 10002 令牌无效 10003 - © 尹自强 all right reserved，powered by Gitbook文件修订时间 2018-08-20 10:38:29 "}}